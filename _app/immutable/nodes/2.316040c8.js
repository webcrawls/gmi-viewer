import{s as O,f as _,l as j,g as $,h as x,m as B,d as h,j as S,i as T,x as u,A as F,B as K,y as C,C as M,H as G,e as A,D as Q,a as w,E as L,c as y,z as X,F as Y}from"../chunks/scheduler.5267ad10.js";import{S as q,i as N,b as k,d as R,m as V,a as z,t as J,e as P}from"../chunks/index.f4b53e60.js";import{w as Z}from"../chunks/index.ba55aaf0.js";function tt(o){let t,n,e,s;return{c(){t=_("div"),n=j(o[0]),this.h()},l(i){t=$(i,"DIV",{class:!0,contenteditable:!0});var a=x(t);n=B(a,o[0]),a.forEach(h),this.h()},h(){S(t,"class","text-input"),S(t,"contenteditable","true")},m(i,a){T(i,t,a),u(t,n),e||(s=F(t,"input",o[1]),e=!0)},p(i,[a]){a&1&&K(n,i[0])},i:C,o:C,d(i){i&&h(t),e=!1,s()}}}function et(o,t,n){let{content:e}=t;const s=M(),i=a=>{const c=a.target.innerText;s("update",c)};return o.$$set=a=>{"content"in a&&n(0,e=a.content)},[e,i]}class nt extends q{constructor(t){super(),N(this,t,et,tt,O,{content:0})}}const U=o=>{const t=o.split(`
`);return{asHtml:()=>{let e="",s=!1,i=!1;for(const a of t)a.startsWith(">")?(i=!0,e+="<blockquote>"):i&&!a.startsWith(">")&&(i=!1,e+="</blockquote>"),a.startsWith("=>")?e+=st(a):a.startsWith("```")?s?(s=!1,e+="</pre>"):(s=!0,e+="<pre>"):a.startsWith("#")?e+=at(a):a.length&&(e+=`<p>${a}</p>`);return e}}},st=o=>{const t=o.slice(2).trim(),n=t.indexOf(" "),e=t.slice(0,n),s=t.slice(n+1);return`<a href="${e}" alt="${s}">${s}</a>`},at=o=>{console.log("heading: "+o);let t=0,n=0;for(let e=0;e<o.length;e++){const s=o[e];if(s==="#")t+=1;else{if(s===" ")continue;n=e;break}}return`<h${t}>${o.slice(n)}</h${t}>`},ot=(o,t,n=JSON.parse,e=JSON.stringify)=>{const{subscribe:s,set:i,update:a}=Z(),c=()=>localStorage.getItem(o),b=l=>localStorage.setItem(o,l),d=c();i(d?n(d):t);const f=l=>{t=l,i(l),l&&b(e(l))};return{subscribe:s,set:f,update:l=>{f(l(t))}}},it=(o,t=250)=>{let n;return e=>{clearInterval(n),n=window.setTimeout(()=>{o(e)},t)}};function rt(o){let t,n=U(o[0]).asHtml()+"",e;return{c(){t=new G(!1),e=A(),this.h()},l(s){t=Q(s,!1),e=A(),this.h()},h(){t.a=e},m(s,i){t.m(n,s,i),T(s,e,i)},p(s,[i]){i&1&&n!==(n=U(s[0]).asHtml()+"")&&t.p(n)},i:C,o:C,d(s){s&&(h(e),t.d())}}}function ct(o,t,n){let{content:e}=t;return o.$$set=s=>{"content"in s&&n(0,e=s.content)},[e]}class lt extends q{constructor(t){super(),N(this,t,ct,rt,O,{content:0})}}function dt(o){let t,n,e,s="Input",i,a,c,b,d,f,D="Output",l,v,p,I;return c=new nt({props:{content:o[0].text}}),c.$on("update",o[2]),p=new lt({props:{content:o[0].text}}),{c(){t=_("main"),n=_("section"),e=_("header"),e.textContent=s,i=w(),a=_("div"),k(c.$$.fragment),b=w(),d=_("section"),f=_("header"),f.textContent=D,l=w(),v=_("div"),k(p.$$.fragment),this.h()},l(r){t=$(r,"MAIN",{});var m=x(t);n=$(m,"SECTION",{});var g=x(n);e=$(g,"HEADER",{"data-svelte-h":!0}),L(e)!=="svelte-1s9qt92"&&(e.textContent=s),i=y(g),a=$(g,"DIV",{class:!0});var E=x(a);R(c.$$.fragment,E),E.forEach(h),g.forEach(h),b=y(m),d=$(m,"SECTION",{});var H=x(d);f=$(H,"HEADER",{"data-svelte-h":!0}),L(f)!=="svelte-1l8ozox"&&(f.textContent=D),l=y(H),v=$(H,"DIV",{class:!0});var W=x(v);R(p.$$.fragment,W),W.forEach(h),H.forEach(h),m.forEach(h),this.h()},h(){S(a,"class","section-content"),S(v,"class","section-content")},m(r,m){T(r,t,m),u(t,n),u(n,e),u(n,i),u(n,a),V(c,a,null),u(t,b),u(t,d),u(d,f),u(d,l),u(d,v),V(p,v,null),I=!0},p(r,[m]){const g={};m&1&&(g.content=r[0].text),c.$set(g);const E={};m&1&&(E.content=r[0].text),p.$set(E)},i(r){I||(z(c.$$.fragment,r),z(p.$$.fragment,r),I=!0)},o(r){J(c.$$.fragment,r),J(p.$$.fragment,r),I=!1},d(r){r&&h(t),P(c),P(p)}}}function ut(o,t,n){let e;const s=ot("gmi-viewer:content",{text:"Hello!"});X(o,s,a=>n(0,e=a));const i=it(a=>Y(s,e.text=a.detail,e),100);return[e,s,i]}class pt extends q{constructor(t){super(),N(this,t,ut,dt,O,{})}}export{pt as component};
