import{s as N,f as _,l as B,g,h as x,m as F,d as h,j as S,i as O,x as u,A as K,B as M,y as C,C as U,H as G,e as R,D as Q,a as y,E as V,c as w,z as X,F as Y}from"../chunks/scheduler.5267ad10.js";import{S as A,i as L,b as W,d as q,m as z,a as J,t as P,e as j}from"../chunks/index.f4b53e60.js";import{w as Z}from"../chunks/index.ba55aaf0.js";function tt(s){let t,o,e,n;return{c(){t=_("div"),o=B(s[0]),this.h()},l(a){t=g(a,"DIV",{class:!0,contenteditable:!0});var i=x(t);o=F(i,s[0]),i.forEach(h),this.h()},h(){S(t,"class","text-input"),S(t,"contenteditable","true")},m(a,i){O(a,t,i),u(t,o),e||(n=K(t,"input",s[1]),e=!0)},p(a,[i]){i&1&&M(o,a[0])},i:C,o:C,d(a){a&&h(t),e=!1,n()}}}function et(s,t,o){let{content:e}=t;const n=U(),a=i=>{const c=i.target.innerText;n("update",c)};return s.$$set=i=>{"content"in i&&o(0,e=i.content)},[e,a]}class nt extends A{constructor(t){super(),L(this,t,et,tt,N,{content:0})}}const k=s=>{const t=s.split(`
`);return{asHtml:()=>{let e="",n=!1;for(const a of t)a.startsWith("=>")?e+=st(a):a.startsWith("```")?n?(n=!1,e+="</pre>"):(n=!0,e+="<pre>"):a.startsWith("#")?e+=at(a):a.length&&(e+=`<p>${a}</p>`),n||(e+="<br>");return e}}},st=s=>s,at=s=>{console.log("heading: "+s);let t=0,o=0;for(let e=0;e<s.length;e++){const n=s[e];if(n==="#")t+=1;else{if(n===" ")continue;o=e;break}}return`<h${t}>${s.slice(o)}</h${t}>`},ot=(s,t,o=JSON.parse,e=JSON.stringify)=>{const{subscribe:n,set:a,update:i}=Z(),c=()=>localStorage.getItem(s),E=l=>localStorage.setItem(s,l),d=c();a(d?o(d):t);const m=l=>{t=l,a(l),l&&E(e(l))};return{subscribe:n,set:m,update:l=>{m(l(t))}}};function it(s){let t,o=k(s[0]).asHtml()+"",e;return{c(){t=new G(!1),e=R(),this.h()},l(n){t=Q(n,!1),e=R(),this.h()},h(){t.a=e},m(n,a){t.m(o,n,a),O(n,e,a)},p(n,[a]){a&1&&o!==(o=k(n[0]).asHtml()+"")&&t.p(o)},i:C,o:C,d(n){n&&(h(e),t.d())}}}function rt(s,t,o){let{content:e}=t;return s.$$set=n=>{"content"in n&&o(0,e=n.content)},[e]}class ct extends A{constructor(t){super(),L(this,t,rt,it,N,{content:0})}}function lt(s){let t,o,e,n="Input",a,i,c,E,d,m,D="Output",l,v,p,H;return c=new nt({props:{content:s[0].text}}),c.$on("update",s[2]),p=new ct({props:{content:s[0].text}}),{c(){t=_("main"),o=_("section"),e=_("header"),e.textContent=n,a=y(),i=_("div"),W(c.$$.fragment),E=y(),d=_("section"),m=_("header"),m.textContent=D,l=y(),v=_("div"),W(p.$$.fragment),this.h()},l(r){t=g(r,"MAIN",{});var f=x(t);o=g(f,"SECTION",{});var $=x(o);e=g($,"HEADER",{"data-svelte-h":!0}),V(e)!=="svelte-1s9qt92"&&(e.textContent=n),a=w($),i=g($,"DIV",{class:!0});var b=x(i);q(c.$$.fragment,b),b.forEach(h),$.forEach(h),E=w(f),d=g(f,"SECTION",{});var I=x(d);m=g(I,"HEADER",{"data-svelte-h":!0}),V(m)!=="svelte-1l8ozox"&&(m.textContent=D),l=w(I),v=g(I,"DIV",{class:!0});var T=x(v);q(p.$$.fragment,T),T.forEach(h),I.forEach(h),f.forEach(h),this.h()},h(){S(i,"class","section-content"),S(v,"class","section-content")},m(r,f){O(r,t,f),u(t,o),u(o,e),u(o,a),u(o,i),z(c,i,null),u(t,E),u(t,d),u(d,m),u(d,l),u(d,v),z(p,v,null),H=!0},p(r,[f]){const $={};f&1&&($.content=r[0].text),c.$set($);const b={};f&1&&(b.content=r[0].text),p.$set(b)},i(r){H||(J(c.$$.fragment,r),J(p.$$.fragment,r),H=!0)},o(r){P(c.$$.fragment,r),P(p.$$.fragment,r),H=!1},d(r){r&&h(t),j(c),j(p)}}}function dt(s,t,o){let e;const n=ot("gmi-viewer:content",{text:"Hello!"});return X(s,n,i=>o(0,e=i)),[e,n,i=>Y(n,e.text=i.detail,e)]}class ht extends A{constructor(t){super(),L(this,t,dt,lt,N,{})}}export{ht as component};
